"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _chai = _interopRequireDefault(require("chai"));

var _chaiAsPromised = _interopRequireDefault(require("chai-as-promised"));

var _2 = _interopRequireDefault(require("../.."));

var _appiumTestSupport = require("appium-test-support");

var _lodash = _interopRequireDefault(require("lodash"));

_chai.default.use(_chaiAsPromised.default);

_chai.default.should();

const emulators = [{
  udid: 'emulator-5554',
  state: 'device',
  port: 5554
}, {
  udid: 'emulator-5556',
  state: 'device',
  port: 5556
}];
const fingerprintId = 1111;
const adb = new _2.default();
describe('adb emulator commands', (0, _appiumTestSupport.withMocks)({
  adb
}, function (mocks) {
  afterEach(function () {
    mocks.verify();
  });
  describe("emu", function () {
    describe("isEmulatorConnected", function () {
      it("should verify emulators state", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("getConnectedEmulators").atLeast(3).returns(emulators);
        adb.curDeviceId = "emulator-5554";
        (yield adb.isEmulatorConnected()).should.equal(true);
        adb.curDeviceId = "emulator-5556";
        (yield adb.isEmulatorConnected()).should.equal(true);
        adb.curDeviceId = "emulator-5558";
        (yield adb.isEmulatorConnected()).should.equal(false);
      }));
    });
    describe("verifyEmulatorConnected", function () {
      it("should throw an exception on emulator not connected", (0, _asyncToGenerator2.default)(function* () {
        adb.curDeviceId = "emulator-5558";
        mocks.adb.expects("isEmulatorConnected").once().returns(false);
        yield adb.verifyEmulatorConnected().should.eventually.be.rejected;
      }));
    });
    describe("fingerprint", function () {
      it("should throw exception on undefined fingerprintId", (0, _asyncToGenerator2.default)(function* () {
        yield adb.fingerprint().should.eventually.be.rejected;
      }));
      it("should throw exception on apiLevel lower than 23", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("getApiLevel").once().withExactArgs().returns(21);
        yield adb.fingerprint(fingerprintId).should.eventually.be.rejected;
      }));
      it("should call adbExec with the correct args", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("getApiLevel").once().withExactArgs().returns(23);
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "finger", "touch", fingerprintId]).returns();
        yield adb.fingerprint(fingerprintId);
      }));
    });
    describe("rotate", function () {
      it("should call adbExec with the correct args", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "rotate"]).returns();
        yield adb.rotate();
      }));
    });
    describe("power methods", function () {
      it("should throw exception on invalid power ac state", (0, _asyncToGenerator2.default)(function* () {
        yield adb.powerAC('dead').should.eventually.be.rejectedWith("Wrong power AC state");
      }));
      it("should set the power ac off", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "power", "ac", adb.POWER_AC_STATES.POWER_AC_OFF]).returns();
        yield adb.powerAC('off');
      }));
      it("should set the power ac on", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "power", "ac", adb.POWER_AC_STATES.POWER_AC_ON]).returns();
        yield adb.powerAC('on');
      }));
      it("should throw exception on invalid power battery percent", (0, _asyncToGenerator2.default)(function* () {
        yield adb.powerCapacity(-1).should.eventually.be.rejectedWith("should be valid integer between 0 and 100");
        yield adb.powerCapacity("a").should.eventually.be.rejectedWith("should be valid integer between 0 and 100");
        yield adb.powerCapacity(500).should.eventually.be.rejectedWith("should be valid integer between 0 and 100");
      }));
      it("should set the power capacity", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "power", "capacity", 0]).returns();
        yield adb.powerCapacity(0);
      }));
      it("should call methods to power off the emulator", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("powerAC").once().withExactArgs('off').returns();
        mocks.adb.expects("powerCapacity").once().withExactArgs(0).returns();
        yield adb.powerOFF();
      }));
    });
    describe("sendSMS", function () {
      it("should throw exception on invalid message", (0, _asyncToGenerator2.default)(function* () {
        yield adb.sendSMS("+549341312345678").should.eventually.be.rejectedWith("Sending an SMS requires a message");
      }));
      it("should throw exception on invalid phoneNumber", (0, _asyncToGenerator2.default)(function* () {
        yield adb.sendSMS("00549341a312345678", 'Hello Appium').should.eventually.be.rejectedWith("Invalid sendSMS phoneNumber");
      }));
      it("should call adbExec with the correct args", (0, _asyncToGenerator2.default)(function* () {
        let phoneNumber = 4509;
        let message = " Hello Appium ";
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "sms", "send", "4509", "Hello Appium"]).returns();
        yield adb.sendSMS(phoneNumber, message);
      }));
    });
    describe("gsm signal method", function () {
      it("should throw exception on invalid strength", (0, _asyncToGenerator2.default)(function* () {
        yield adb.gsmSignal(5).should.eventually.be.rejectedWith("Invalid signal strength");
      }));
      it("should call adbExecEmu with the correct args", (0, _asyncToGenerator2.default)(function* () {
        let signalStrength = 0;
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", 'signal-profile', signalStrength]).returns();
        yield adb.gsmSignal(signalStrength);
      }));
    });
    describe("gsm call methods", function () {
      it("should throw exception on invalid action", (0, _asyncToGenerator2.default)(function* () {
        yield adb.gsmCall("+549341312345678").should.eventually.be.rejectedWith("Invalid gsm action");
      }));
      it("should throw exception on invalid phoneNumber", (0, _asyncToGenerator2.default)(function* () {
        yield adb.gsmCall("+5493413a12345678", "call").should.eventually.be.rejectedWith("Invalid gsmCall phoneNumber");
      }));
      it("should set the correct method for making gsm call", (0, _asyncToGenerator2.default)(function* () {
        let phoneNumber = 4509;
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", adb.GSM_CALL_ACTIONS.GSM_CALL, "4509"]).returns();
        yield adb.gsmCall(phoneNumber, "call");
      }));
      it("should set the correct method for accepting gsm call", (0, _asyncToGenerator2.default)(function* () {
        let phoneNumber = 4509;
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", adb.GSM_CALL_ACTIONS.GSM_ACCEPT, "4509"]).returns();
        yield adb.gsmCall(phoneNumber, "accept");
      }));
      it("should set the correct method for refusing gsm call", (0, _asyncToGenerator2.default)(function* () {
        let phoneNumber = 4509;
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", adb.GSM_CALL_ACTIONS.GSM_CANCEL, "4509"]).returns();
        yield adb.gsmCall(phoneNumber, "cancel");
      }));
      it("should set the correct method for holding gsm call", (0, _asyncToGenerator2.default)(function* () {
        let phoneNumber = 4509;
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", adb.GSM_CALL_ACTIONS.GSM_HOLD, "4509"]).returns();
        yield adb.gsmCall(phoneNumber, "hold");
      }));
    });
    describe("network speed method", function () {
      it("should throw exception on invalid speed", (0, _asyncToGenerator2.default)(function* () {
        yield adb.networkSpeed('light').should.eventually.be.rejectedWith("Invalid network speed");
      }));
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = _lodash.default.toPairs(adb.NETWORK_SPEED)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          let _step$value = (0, _slicedToArray2.default)(_step.value, 2),
              key = _step$value[0],
              value = _step$value[1];

          it(`should set network speed(${key}) correctly`, (0, _asyncToGenerator2.default)(function* () {
            mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
            mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
            mocks.adb.expects("adbExec").once().withExactArgs(["emu", "network", "speed", value]).returns();
            yield adb.networkSpeed(value);
          }));
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    });
    describe("gsm voice method", function () {
      it("should throw exception on invalid strength", (0, _asyncToGenerator2.default)(function* () {
        yield adb.gsmVoice('weird').should.eventually.be.rejectedWith("Invalid gsm voice state");
      }));
      it("should set gsm voice to unregistered", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", "voice", adb.GSM_VOICE_STATES.GSM_VOICE_UNREGISTERED]).returns();
        yield adb.gsmVoice("unregistered");
      }));
      it("should set gsm voice to home", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", "voice", adb.GSM_VOICE_STATES.GSM_VOICE_HOME]).returns();
        yield adb.gsmVoice("home");
      }));
      it("should set gsm voice to roaming", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", "voice", adb.GSM_VOICE_STATES.GSM_VOICE_ROAMING]).returns();
        yield adb.gsmVoice("roaming");
      }));
      it("should set gsm voice to searching", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", "voice", adb.GSM_VOICE_STATES.GSM_VOICE_SEARCHING]).returns();
        yield adb.gsmVoice("searching");
      }));
      it("should set gsm voice to denied", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", "voice", adb.GSM_VOICE_STATES.GSM_VOICE_DENIED]).returns();
        yield adb.gsmVoice("denied");
      }));
      it("should set gsm voice to off", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", "voice", adb.GSM_VOICE_STATES.GSM_VOICE_OFF]).returns();
        yield adb.gsmVoice("off");
      }));
      it("should set gsm voice to on", (0, _asyncToGenerator2.default)(function* () {
        mocks.adb.expects("isEmulatorConnected").once().withExactArgs().returns(true);
        mocks.adb.expects("resetTelnetAuthToken").once().withExactArgs().returns();
        mocks.adb.expects("adbExec").once().withExactArgs(["emu", "gsm", "voice", adb.GSM_VOICE_STATES.GSM_VOICE_ON]).returns();
        yield adb.gsmVoice("on");
      }));
    });
  });
}));require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvdW5pdC9hZGItZW11LWNvbW1hbmRzLXNwZWNzLmpzIl0sIm5hbWVzIjpbImNoYWkiLCJ1c2UiLCJjaGFpQXNQcm9taXNlZCIsInNob3VsZCIsImVtdWxhdG9ycyIsInVkaWQiLCJzdGF0ZSIsInBvcnQiLCJmaW5nZXJwcmludElkIiwiYWRiIiwiQURCIiwiZGVzY3JpYmUiLCJtb2NrcyIsImFmdGVyRWFjaCIsInZlcmlmeSIsIml0IiwiZXhwZWN0cyIsImF0TGVhc3QiLCJyZXR1cm5zIiwiY3VyRGV2aWNlSWQiLCJpc0VtdWxhdG9yQ29ubmVjdGVkIiwiZXF1YWwiLCJvbmNlIiwidmVyaWZ5RW11bGF0b3JDb25uZWN0ZWQiLCJldmVudHVhbGx5IiwiYmUiLCJyZWplY3RlZCIsImZpbmdlcnByaW50Iiwid2l0aEV4YWN0QXJncyIsInJvdGF0ZSIsInBvd2VyQUMiLCJyZWplY3RlZFdpdGgiLCJQT1dFUl9BQ19TVEFURVMiLCJQT1dFUl9BQ19PRkYiLCJQT1dFUl9BQ19PTiIsInBvd2VyQ2FwYWNpdHkiLCJwb3dlck9GRiIsInNlbmRTTVMiLCJwaG9uZU51bWJlciIsIm1lc3NhZ2UiLCJnc21TaWduYWwiLCJzaWduYWxTdHJlbmd0aCIsImdzbUNhbGwiLCJHU01fQ0FMTF9BQ1RJT05TIiwiR1NNX0NBTEwiLCJHU01fQUNDRVBUIiwiR1NNX0NBTkNFTCIsIkdTTV9IT0xEIiwibmV0d29ya1NwZWVkIiwiXyIsInRvUGFpcnMiLCJORVRXT1JLX1NQRUVEIiwia2V5IiwidmFsdWUiLCJnc21Wb2ljZSIsIkdTTV9WT0lDRV9TVEFURVMiLCJHU01fVk9JQ0VfVU5SRUdJU1RFUkVEIiwiR1NNX1ZPSUNFX0hPTUUiLCJHU01fVk9JQ0VfUk9BTUlORyIsIkdTTV9WT0lDRV9TRUFSQ0hJTkciLCJHU01fVk9JQ0VfREVOSUVEIiwiR1NNX1ZPSUNFX09GRiIsIkdTTV9WT0lDRV9PTiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7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QUQsRUFBUSxLQUFSLEVBQWUsT0FBZixFQUF3Qm5CLEdBQUcsQ0FBQzhDLGdCQUFKLENBQXFCTSxhQUE3QyxDQUR4QixFQUVHM0MsT0FGSDtBQUdBLGNBQU1ULEdBQUcsQ0FBQzZDLFFBQUosQ0FBYSxLQUFiLENBQU47QUFDRCxPQVhDLEVBQUY7QUFZQXZDLE1BQUFBLEVBQUUsQ0FBQyw0QkFBRCxrQ0FBK0IsYUFBa0I7QUFDakRILFFBQUFBLEtBQUssQ0FBQ0gsR0FBTixDQUFVTyxPQUFWLENBQWtCLHFCQUFsQixFQUNHTSxJQURILEdBQ1VNLGFBRFYsR0FFR1YsT0FGSCxDQUVXLElBRlg7QUFHQU4sUUFBQUEsS0FBSyxDQUFDSCxHQUFOLENBQVVPLE9BQVYsQ0FBa0Isc0JBQWxCLEVBQ0dNLElBREgsR0FDVU0sYUFEVixHQUVHVixPQUZIO0FBR0FOLFFBQUFBLEtBQUssQ0FBQ0gsR0FBTixDQUFVTyxPQUFWLENBQWtCLFNBQWxCLEVBQ0dNLElBREgsR0FDVU0sYUFEVixDQUN3QixDQUFDLEtBQUQsRUFBUSxLQUFSLEVBQWUsT0FBZixFQUF3Qm5CLEdBQUcsQ0FBQzhDLGdCQUFKLENBQXFCTyxZQUE3QyxDQUR4QixFQUVHNUMsT0FGSDtBQUdBLGNBQU1ULEdBQUcsQ0FBQzZDLFFBQUosQ0FBYSxJQUFiLENBQU47QUFDRCxPQVhDLEVBQUY7QUFZRCxLQXhGTyxDQUFSO0FBeUZELEdBdFVPLENBQVI7QUF1VUQsQ0E1VWlDLENBQTFCLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBjaGFpQXNQcm9taXNlZCBmcm9tICdjaGFpLWFzLXByb21pc2VkJztcbmltcG9ydCBBREIgZnJvbSAnLi4vLi4nO1xuaW1wb3J0IHsgd2l0aE1vY2tzIH0gZnJvbSAnYXBwaXVtLXRlc3Qtc3VwcG9ydCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5jaGFpLnVzZShjaGFpQXNQcm9taXNlZCk7XG5jaGFpLnNob3VsZCgpO1xuXG5jb25zdCBlbXVsYXRvcnMgPSBbXG4gIHsgdWRpZDogJ2VtdWxhdG9yLTU1NTQnLCBzdGF0ZTogJ2RldmljZScsIHBvcnQ6IDU1NTQgfSxcbiAgeyB1ZGlkOiAnZW11bGF0b3ItNTU1NicsIHN0YXRlOiAnZGV2aWNlJywgcG9ydDogNTU1NiB9LFxuXTtcbmNvbnN0IGZpbmdlcnByaW50SWQgPSAxMTExO1xuXG5jb25zdCBhZGIgPSBuZXcgQURCKCk7XG5cbmRlc2NyaWJlKCdhZGIgZW11bGF0b3IgY29tbWFuZHMnLCB3aXRoTW9ja3Moe2FkYn0sIGZ1bmN0aW9uIChtb2Nrcykge1xuICBhZnRlckVhY2goZnVuY3Rpb24gKCkge1xuICAgIG1vY2tzLnZlcmlmeSgpO1xuICB9KTtcblxuICBkZXNjcmliZShcImVtdVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVzY3JpYmUoXCJpc0VtdWxhdG9yQ29ubmVjdGVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGl0KFwic2hvdWxkIHZlcmlmeSBlbXVsYXRvcnMgc3RhdGVcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImdldENvbm5lY3RlZEVtdWxhdG9yc1wiKVxuICAgICAgICAgIC5hdExlYXN0KDMpXG4gICAgICAgICAgLnJldHVybnMoZW11bGF0b3JzKTtcbiAgICAgICAgYWRiLmN1ckRldmljZUlkID0gXCJlbXVsYXRvci01NTU0XCI7XG4gICAgICAgIChhd2FpdCBhZGIuaXNFbXVsYXRvckNvbm5lY3RlZCgpKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICAgIGFkYi5jdXJEZXZpY2VJZCA9IFwiZW11bGF0b3ItNTU1NlwiO1xuICAgICAgICAoYXdhaXQgYWRiLmlzRW11bGF0b3JDb25uZWN0ZWQoKSkuc2hvdWxkLmVxdWFsKHRydWUpO1xuICAgICAgICBhZGIuY3VyRGV2aWNlSWQgPSBcImVtdWxhdG9yLTU1NThcIjtcbiAgICAgICAgKGF3YWl0IGFkYi5pc0VtdWxhdG9yQ29ubmVjdGVkKCkpLnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZShcInZlcmlmeUVtdWxhdG9yQ29ubmVjdGVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGl0KFwic2hvdWxkIHRocm93IGFuIGV4Y2VwdGlvbiBvbiBlbXVsYXRvciBub3QgY29ubmVjdGVkXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRiLmN1ckRldmljZUlkID0gXCJlbXVsYXRvci01NTU4XCI7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiaXNFbXVsYXRvckNvbm5lY3RlZFwiKVxuICAgICAgICAgIC5vbmNlKClcbiAgICAgICAgICAucmV0dXJucyhmYWxzZSk7XG4gICAgICAgIGF3YWl0IGFkYi52ZXJpZnlFbXVsYXRvckNvbm5lY3RlZCgpLnNob3VsZC5ldmVudHVhbGx5LmJlLnJlamVjdGVkO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZGVzY3JpYmUoXCJmaW5nZXJwcmludFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpdChcInNob3VsZCB0aHJvdyBleGNlcHRpb24gb24gdW5kZWZpbmVkIGZpbmdlcnByaW50SWRcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBhd2FpdCBhZGIuZmluZ2VycHJpbnQoKS5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZDtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgdGhyb3cgZXhjZXB0aW9uIG9uIGFwaUxldmVsIGxvd2VyIHRoYW4gMjNcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImdldEFwaUxldmVsXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucygyMSk7XG4gICAgICAgIGF3YWl0IGFkYi5maW5nZXJwcmludChmaW5nZXJwcmludElkKS5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZDtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgY2FsbCBhZGJFeGVjIHdpdGggdGhlIGNvcnJlY3QgYXJnc1wiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiZ2V0QXBpTGV2ZWxcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKDIzKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJpc0VtdWxhdG9yQ29ubmVjdGVkXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucyh0cnVlKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJyZXNldFRlbG5ldEF1dGhUb2tlblwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnMoKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJhZGJFeGVjXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKFtcImVtdVwiLCBcImZpbmdlclwiLCBcInRvdWNoXCIsIGZpbmdlcnByaW50SWRdKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5maW5nZXJwcmludChmaW5nZXJwcmludElkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKFwicm90YXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGl0KFwic2hvdWxkIGNhbGwgYWRiRXhlYyB3aXRoIHRoZSBjb3JyZWN0IGFyZ3NcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImlzRW11bGF0b3JDb25uZWN0ZWRcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKHRydWUpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcInJlc2V0VGVsbmV0QXV0aFRva2VuXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImFkYkV4ZWNcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoW1wiZW11XCIsIFwicm90YXRlXCJdKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5yb3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKFwicG93ZXIgbWV0aG9kc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpdChcInNob3VsZCB0aHJvdyBleGNlcHRpb24gb24gaW52YWxpZCBwb3dlciBhYyBzdGF0ZVwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGF3YWl0IGFkYi5wb3dlckFDKCdkZWFkJykuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKFwiV3JvbmcgcG93ZXIgQUMgc3RhdGVcIik7XG4gICAgICB9KTtcbiAgICAgIGl0KFwic2hvdWxkIHNldCB0aGUgcG93ZXIgYWMgb2ZmXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJpc0VtdWxhdG9yQ29ubmVjdGVkXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucyh0cnVlKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJyZXNldFRlbG5ldEF1dGhUb2tlblwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnMoKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJhZGJFeGVjXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKFtcImVtdVwiLCBcInBvd2VyXCIsIFwiYWNcIiwgYWRiLlBPV0VSX0FDX1NUQVRFUy5QT1dFUl9BQ19PRkZdKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5wb3dlckFDKCdvZmYnKTtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBwb3dlciBhYyBvblwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiaXNFbXVsYXRvckNvbm5lY3RlZFwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnModHJ1ZSk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwicmVzZXRUZWxuZXRBdXRoVG9rZW5cIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiYWRiRXhlY1wiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncyhbXCJlbXVcIiwgXCJwb3dlclwiLCBcImFjXCIsIGFkYi5QT1dFUl9BQ19TVEFURVMuUE9XRVJfQUNfT05dKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5wb3dlckFDKCdvbicpO1xuICAgICAgfSk7XG4gICAgICBpdChcInNob3VsZCB0aHJvdyBleGNlcHRpb24gb24gaW52YWxpZCBwb3dlciBiYXR0ZXJ5IHBlcmNlbnRcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBhd2FpdCBhZGIucG93ZXJDYXBhY2l0eSgtMSkuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKFwic2hvdWxkIGJlIHZhbGlkIGludGVnZXIgYmV0d2VlbiAwIGFuZCAxMDBcIik7XG4gICAgICAgIGF3YWl0IGFkYi5wb3dlckNhcGFjaXR5KFwiYVwiKS5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZFdpdGgoXCJzaG91bGQgYmUgdmFsaWQgaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDEwMFwiKTtcbiAgICAgICAgYXdhaXQgYWRiLnBvd2VyQ2FwYWNpdHkoNTAwKS5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZFdpdGgoXCJzaG91bGQgYmUgdmFsaWQgaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDEwMFwiKTtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBwb3dlciBjYXBhY2l0eVwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiaXNFbXVsYXRvckNvbm5lY3RlZFwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnModHJ1ZSk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwicmVzZXRUZWxuZXRBdXRoVG9rZW5cIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiYWRiRXhlY1wiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncyhbXCJlbXVcIiwgXCJwb3dlclwiLCBcImNhcGFjaXR5XCIsIDBdKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5wb3dlckNhcGFjaXR5KDApO1xuICAgICAgfSk7XG4gICAgICBpdChcInNob3VsZCBjYWxsIG1ldGhvZHMgdG8gcG93ZXIgb2ZmIHRoZSBlbXVsYXRvclwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwicG93ZXJBQ1wiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygnb2ZmJylcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcInBvd2VyQ2FwYWNpdHlcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoMClcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBhd2FpdCBhZGIucG93ZXJPRkYoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKFwic2VuZFNNU1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpdChcInNob3VsZCB0aHJvdyBleGNlcHRpb24gb24gaW52YWxpZCBtZXNzYWdlXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXdhaXQgYWRiLnNlbmRTTVMoXCIrNTQ5MzQxMzEyMzQ1Njc4XCIpLnNob3VsZC5ldmVudHVhbGx5LmJlLnJlamVjdGVkV2l0aChcIlNlbmRpbmcgYW4gU01TIHJlcXVpcmVzIGEgbWVzc2FnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgdGhyb3cgZXhjZXB0aW9uIG9uIGludmFsaWQgcGhvbmVOdW1iZXJcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBhd2FpdCBhZGIuc2VuZFNNUyhcIjAwNTQ5MzQxYTMxMjM0NTY3OFwiLCAnSGVsbG8gQXBwaXVtJykuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKFwiSW52YWxpZCBzZW5kU01TIHBob25lTnVtYmVyXCIpO1xuICAgICAgfSk7XG4gICAgICBpdChcInNob3VsZCBjYWxsIGFkYkV4ZWMgd2l0aCB0aGUgY29ycmVjdCBhcmdzXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IHBob25lTnVtYmVyID0gNDUwOTtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBcIiBIZWxsbyBBcHBpdW0gXCI7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiaXNFbXVsYXRvckNvbm5lY3RlZFwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnModHJ1ZSk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwicmVzZXRUZWxuZXRBdXRoVG9rZW5cIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiYWRiRXhlY1wiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncyhbXCJlbXVcIiwgXCJzbXNcIiwgXCJzZW5kXCIsIFwiNDUwOVwiLCBcIkhlbGxvIEFwcGl1bVwiXSlcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBhd2FpdCBhZGIuc2VuZFNNUyhwaG9uZU51bWJlciwgbWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBkZXNjcmliZShcImdzbSBzaWduYWwgbWV0aG9kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGl0KFwic2hvdWxkIHRocm93IGV4Y2VwdGlvbiBvbiBpbnZhbGlkIHN0cmVuZ3RoXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXdhaXQgYWRiLmdzbVNpZ25hbCg1KS5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZFdpdGgoXCJJbnZhbGlkIHNpZ25hbCBzdHJlbmd0aFwiKTtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgY2FsbCBhZGJFeGVjRW11IHdpdGggdGhlIGNvcnJlY3QgYXJnc1wiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBzaWduYWxTdHJlbmd0aCA9IDA7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiaXNFbXVsYXRvckNvbm5lY3RlZFwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnModHJ1ZSk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwicmVzZXRUZWxuZXRBdXRoVG9rZW5cIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiYWRiRXhlY1wiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncyhbXCJlbXVcIiwgXCJnc21cIiwgJ3NpZ25hbC1wcm9maWxlJywgc2lnbmFsU3RyZW5ndGhdKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5nc21TaWduYWwoc2lnbmFsU3RyZW5ndGgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZGVzY3JpYmUoXCJnc20gY2FsbCBtZXRob2RzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGl0KFwic2hvdWxkIHRocm93IGV4Y2VwdGlvbiBvbiBpbnZhbGlkIGFjdGlvblwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGF3YWl0IGFkYi5nc21DYWxsKFwiKzU0OTM0MTMxMjM0NTY3OFwiKS5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZFdpdGgoXCJJbnZhbGlkIGdzbSBhY3Rpb25cIik7XG4gICAgICB9KTtcbiAgICAgIGl0KFwic2hvdWxkIHRocm93IGV4Y2VwdGlvbiBvbiBpbnZhbGlkIHBob25lTnVtYmVyXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXdhaXQgYWRiLmdzbUNhbGwoXCIrNTQ5MzQxM2ExMjM0NTY3OFwiLCBcImNhbGxcIikuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKFwiSW52YWxpZCBnc21DYWxsIHBob25lTnVtYmVyXCIpO1xuICAgICAgfSk7XG4gICAgICBpdChcInNob3VsZCBzZXQgdGhlIGNvcnJlY3QgbWV0aG9kIGZvciBtYWtpbmcgZ3NtIGNhbGxcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgcGhvbmVOdW1iZXIgPSA0NTA5O1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImlzRW11bGF0b3JDb25uZWN0ZWRcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKHRydWUpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcInJlc2V0VGVsbmV0QXV0aFRva2VuXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImFkYkV4ZWNcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoW1wiZW11XCIsIFwiZ3NtXCIsIGFkYi5HU01fQ0FMTF9BQ1RJT05TLkdTTV9DQUxMLCBcIjQ1MDlcIl0pXG4gICAgICAgICAgLnJldHVybnMoKTtcbiAgICAgICAgYXdhaXQgYWRiLmdzbUNhbGwocGhvbmVOdW1iZXIsIFwiY2FsbFwiKTtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBjb3JyZWN0IG1ldGhvZCBmb3IgYWNjZXB0aW5nIGdzbSBjYWxsXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IHBob25lTnVtYmVyID0gNDUwOTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJpc0VtdWxhdG9yQ29ubmVjdGVkXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucyh0cnVlKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJyZXNldFRlbG5ldEF1dGhUb2tlblwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnMoKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJhZGJFeGVjXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKFtcImVtdVwiLCBcImdzbVwiLCBhZGIuR1NNX0NBTExfQUNUSU9OUy5HU01fQUNDRVBULCBcIjQ1MDlcIl0pXG4gICAgICAgICAgLnJldHVybnMoKTtcbiAgICAgICAgYXdhaXQgYWRiLmdzbUNhbGwocGhvbmVOdW1iZXIsIFwiYWNjZXB0XCIpO1xuICAgICAgfSk7XG4gICAgICBpdChcInNob3VsZCBzZXQgdGhlIGNvcnJlY3QgbWV0aG9kIGZvciByZWZ1c2luZyBnc20gY2FsbFwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBwaG9uZU51bWJlciA9IDQ1MDk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiaXNFbXVsYXRvckNvbm5lY3RlZFwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnModHJ1ZSk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwicmVzZXRUZWxuZXRBdXRoVG9rZW5cIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiYWRiRXhlY1wiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncyhbXCJlbXVcIiwgXCJnc21cIiwgYWRiLkdTTV9DQUxMX0FDVElPTlMuR1NNX0NBTkNFTCwgXCI0NTA5XCJdKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5nc21DYWxsKHBob25lTnVtYmVyLCBcImNhbmNlbFwiKTtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgc2V0IHRoZSBjb3JyZWN0IG1ldGhvZCBmb3IgaG9sZGluZyBnc20gY2FsbFwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBwaG9uZU51bWJlciA9IDQ1MDk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiaXNFbXVsYXRvckNvbm5lY3RlZFwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnModHJ1ZSk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwicmVzZXRUZWxuZXRBdXRoVG9rZW5cIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiYWRiRXhlY1wiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncyhbXCJlbXVcIiwgXCJnc21cIiwgYWRiLkdTTV9DQUxMX0FDVElPTlMuR1NNX0hPTEQsIFwiNDUwOVwiXSlcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBhd2FpdCBhZGIuZ3NtQ2FsbChwaG9uZU51bWJlciwgXCJob2xkXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZGVzY3JpYmUoXCJuZXR3b3JrIHNwZWVkIG1ldGhvZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpdChcInNob3VsZCB0aHJvdyBleGNlcHRpb24gb24gaW52YWxpZCBzcGVlZFwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGF3YWl0IGFkYi5uZXR3b3JrU3BlZWQoJ2xpZ2h0Jykuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKFwiSW52YWxpZCBuZXR3b3JrIHNwZWVkXCIpO1xuICAgICAgfSk7XG4gICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgXy50b1BhaXJzKGFkYi5ORVRXT1JLX1NQRUVEKSkge1xuICAgICAgICBpdChgc2hvdWxkIHNldCBuZXR3b3JrIHNwZWVkKCR7a2V5fSkgY29ycmVjdGx5YCwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiaXNFbXVsYXRvckNvbm5lY3RlZFwiKVxuICAgICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAgIC5yZXR1cm5zKHRydWUpO1xuICAgICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwicmVzZXRUZWxuZXRBdXRoVG9rZW5cIilcbiAgICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiYWRiRXhlY1wiKVxuICAgICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKFtcImVtdVwiLCBcIm5ldHdvcmtcIiwgXCJzcGVlZFwiLCB2YWx1ZV0pXG4gICAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICAgIGF3YWl0IGFkYi5uZXR3b3JrU3BlZWQodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkZXNjcmliZShcImdzbSB2b2ljZSBtZXRob2RcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaXQoXCJzaG91bGQgdGhyb3cgZXhjZXB0aW9uIG9uIGludmFsaWQgc3RyZW5ndGhcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBhd2FpdCBhZGIuZ3NtVm9pY2UoJ3dlaXJkJykuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKFwiSW52YWxpZCBnc20gdm9pY2Ugc3RhdGVcIik7XG4gICAgICB9KTtcbiAgICAgIGl0KFwic2hvdWxkIHNldCBnc20gdm9pY2UgdG8gdW5yZWdpc3RlcmVkXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJpc0VtdWxhdG9yQ29ubmVjdGVkXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucyh0cnVlKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJyZXNldFRlbG5ldEF1dGhUb2tlblwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnMoKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJhZGJFeGVjXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKFtcImVtdVwiLCBcImdzbVwiLCBcInZvaWNlXCIsIGFkYi5HU01fVk9JQ0VfU1RBVEVTLkdTTV9WT0lDRV9VTlJFR0lTVEVSRURdKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5nc21Wb2ljZShcInVucmVnaXN0ZXJlZFwiKTtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgc2V0IGdzbSB2b2ljZSB0byBob21lXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJpc0VtdWxhdG9yQ29ubmVjdGVkXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucyh0cnVlKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJyZXNldFRlbG5ldEF1dGhUb2tlblwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnMoKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJhZGJFeGVjXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKFtcImVtdVwiLCBcImdzbVwiLCBcInZvaWNlXCIsIGFkYi5HU01fVk9JQ0VfU1RBVEVTLkdTTV9WT0lDRV9IT01FXSlcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBhd2FpdCBhZGIuZ3NtVm9pY2UoXCJob21lXCIpO1xuICAgICAgfSk7XG4gICAgICBpdChcInNob3VsZCBzZXQgZ3NtIHZvaWNlIHRvIHJvYW1pbmdcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImlzRW11bGF0b3JDb25uZWN0ZWRcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKHRydWUpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcInJlc2V0VGVsbmV0QXV0aFRva2VuXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImFkYkV4ZWNcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoW1wiZW11XCIsIFwiZ3NtXCIsIFwidm9pY2VcIiwgYWRiLkdTTV9WT0lDRV9TVEFURVMuR1NNX1ZPSUNFX1JPQU1JTkddKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5nc21Wb2ljZShcInJvYW1pbmdcIik7XG4gICAgICB9KTtcbiAgICAgIGl0KFwic2hvdWxkIHNldCBnc20gdm9pY2UgdG8gc2VhcmNoaW5nXCIsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJpc0VtdWxhdG9yQ29ubmVjdGVkXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucyh0cnVlKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJyZXNldFRlbG5ldEF1dGhUb2tlblwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnMoKTtcbiAgICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoXCJhZGJFeGVjXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKFtcImVtdVwiLCBcImdzbVwiLCBcInZvaWNlXCIsIGFkYi5HU01fVk9JQ0VfU1RBVEVTLkdTTV9WT0lDRV9TRUFSQ0hJTkddKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIGF3YWl0IGFkYi5nc21Wb2ljZShcInNlYXJjaGluZ1wiKTtcbiAgICAgIH0pO1xuICAgICAgaXQoXCJzaG91bGQgc2V0IGdzbSB2b2ljZSB0byBkZW5pZWRcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImlzRW11bGF0b3JDb25uZWN0ZWRcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKHRydWUpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcInJlc2V0VGVsbmV0QXV0aFRva2VuXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImFkYkV4ZWNcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoW1wiZW11XCIsIFwiZ3NtXCIsIFwidm9pY2VcIiwgYWRiLkdTTV9WT0lDRV9TVEFURVMuR1NNX1ZPSUNFX0RFTklFRF0pXG4gICAgICAgICAgLnJldHVybnMoKTtcbiAgICAgICAgYXdhaXQgYWRiLmdzbVZvaWNlKFwiZGVuaWVkXCIpO1xuICAgICAgfSk7XG4gICAgICBpdChcInNob3VsZCBzZXQgZ3NtIHZvaWNlIHRvIG9mZlwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiaXNFbXVsYXRvckNvbm5lY3RlZFwiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncygpXG4gICAgICAgICAgLnJldHVybnModHJ1ZSk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwicmVzZXRUZWxuZXRBdXRoVG9rZW5cIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKCk7XG4gICAgICAgIG1vY2tzLmFkYi5leHBlY3RzKFwiYWRiRXhlY1wiKVxuICAgICAgICAgIC5vbmNlKCkud2l0aEV4YWN0QXJncyhbXCJlbXVcIiwgXCJnc21cIiwgXCJ2b2ljZVwiLCBhZGIuR1NNX1ZPSUNFX1NUQVRFUy5HU01fVk9JQ0VfT0ZGXSlcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBhd2FpdCBhZGIuZ3NtVm9pY2UoXCJvZmZcIik7XG4gICAgICB9KTtcbiAgICAgIGl0KFwic2hvdWxkIHNldCBnc20gdm9pY2UgdG8gb25cIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImlzRW11bGF0b3JDb25uZWN0ZWRcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoKVxuICAgICAgICAgIC5yZXR1cm5zKHRydWUpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcInJlc2V0VGVsbmV0QXV0aFRva2VuXCIpXG4gICAgICAgICAgLm9uY2UoKS53aXRoRXhhY3RBcmdzKClcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBtb2Nrcy5hZGIuZXhwZWN0cyhcImFkYkV4ZWNcIilcbiAgICAgICAgICAub25jZSgpLndpdGhFeGFjdEFyZ3MoW1wiZW11XCIsIFwiZ3NtXCIsIFwidm9pY2VcIiwgYWRiLkdTTV9WT0lDRV9TVEFURVMuR1NNX1ZPSUNFX09OXSlcbiAgICAgICAgICAucmV0dXJucygpO1xuICAgICAgICBhd2FpdCBhZGIuZ3NtVm9pY2UoXCJvblwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pKTtcbiJdLCJmaWxlIjoidGVzdC91bml0L2FkYi1lbXUtY29tbWFuZHMtc3BlY3MuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
